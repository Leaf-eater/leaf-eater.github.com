<!doctype html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="美丽的事物那么多，我不甘心只拥有一个">
<meta property="og:type" content="website">
<meta property="og:title" content="YuHang’s Blog">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="YuHang’s Blog">
<meta property="og:description" content="美丽的事物那么多，我不甘心只拥有一个">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="YuHang’s Blog">
<meta name="twitter:description" content="美丽的事物那么多，我不甘心只拥有一个">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/2/"/>





  <title> YuHang’s Blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">YuHang’s Blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
    
      <p class="site-subtitle">吃树叶者</p>
    
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/05/设计模式（二）——策略模式/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="YuHang">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="YuHang’s Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="YuHang’s Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/05/设计模式（二）——策略模式/" itemprop="url">
                  设计模式（二）——策略模式
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-05T21:05:42+08:00">
                2017-02-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/设计模式/" itemprop="url" rel="index">
                    <span itemprop="name">设计模式</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>在<a href="https://leaf-eater.github.io/2017/02/03/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88%E4%B8%80%EF%BC%89%E2%80%94%E2%80%94%E4%BC%A0%E7%BB%9FOO/">上一章</a>我们提出了一种情形，并且指出传统OO的做法不尽人意，我们需要一种新的思路来帮我们解决这样的问题。这是我们引入了第一种设计模式————策略模式。</p>
<h2 id="什么时候使用？"><a href="#什么时候使用？" class="headerlink" title="什么时候使用？"></a>什么时候使用？</h2><p>当如下情况发生时：<br><strong>一个对象的某个行为有多种实现方式</strong>。这时候使用策略模式可以将各个算法独立于对象独立运行，而且可以相互置换。<br></p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/02/05/设计模式（二）——策略模式/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/03/设计模式（一）——传统OO/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="YuHang">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="YuHang’s Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="YuHang’s Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/03/设计模式（一）——传统OO/" itemprop="url">
                  设计模式（一）——传统OO
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-03T23:40:08+08:00">
                2017-02-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/设计模式/" itemprop="url" rel="index">
                    <span itemprop="name">设计模式</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h2 id="为什么需要面相对象"><a href="#为什么需要面相对象" class="headerlink" title="为什么需要面相对象"></a>为什么需要面相对象</h2><p>在历史进程中，我们由面相对象编程转向了面相对象编程，项目的规模也变得越来越大，其中有着必然的需求————改变。这里引用HeadFrist中的一句话:”不管软件设计的多好，一段时间之后，总是需要成长与改变，否则软件就会”死亡”。”紧接着就出现了面相对象这一概念:我们使用类来映射现实<br>中的对象，通过对象来实现我们需要的功能，大家各辞其职，互不影响。这时候就不会出现牵一发而动全身的情况。软件的更新越来越快，实现的功能也越来越多。由于面相对象<br>的支持，各个功能以模块化的形式在互联网上传播开来，大家再也不用去造重复的轮子，我们也有了更多时间做更加酷炫的事情。 </p>
<h2 id="为什么有了设计模式"><a href="#为什么有了设计模式" class="headerlink" title="为什么有了设计模式"></a>为什么有了设计模式</h2><p>很显然之前面相对象是一种强大而先进的思想，但是在开发过程中我们发现了很多问题。问题的来源也是改变，我们来举一个例子：<br>假设使用传统OO的方式，我们创建了一个超类Animal，它定义了所有的Animal产生的共同行为 makeSounds();run();mating();。 之后因为市场需求的变动我们需要给动物添加一个新的功能jump();(不改动就会死)。。这里传统OO有两种解决的方式：<br></p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/02/03/设计模式（一）——传统OO/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/02/并查集系列（三）——继承者问题/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="YuHang">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="YuHang’s Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="YuHang’s Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/02/并查集系列（三）——继承者问题/" itemprop="url">
                  并查集系列（三）——继承者问题
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-02T20:57:37+08:00">
                2017-02-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/算法/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>　　Given a set of N integers S={0,1,…,N−1} and a sequence of requests of the following form:
　　</p>
<ol>
<li>Remove x from S</li>
<li>Find the successor of x: the smallest y in S such that y≥x.</li>
<li><p>design a data type so that all operations (except construction) should take logarithmic time or better.</p>
<h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>　　首先来看题目要求是对数时间，这样的话肯定不可能遍历完整个数组（这样至少为ｎ），加之这一部分学的是并查集。。所以思考怎么使用并查集来解决这个问题。这个问题思考了很久啊。。一直没有答案，这里不得不吐槽一下国内写的博客。。完全是为自己写的，应该只有作者本人可以看懂。。。不扯了，接下来借鉴了墙外的一些思路来写的。<br>　　当确定这个题可能要使用并查集的时候我们再来仔细分析一下要求，首先给定的是一段连续的自然数序列（或者数组下标）；第二点我们要获取移除的successor:　剩余数中大于数的队列中的最小数。我们来举个例子，<br>　　｛１ …8｝在这八个数中我们移除6，6的successor为7（find(6) ==7）；<br>　　再移除5，find(5) == 7；<br>　　再移除2 , find(2) == 3　find(3) = 3　find(5) ==7　<br>　　<strong>我们可以看到输出的值为一个连通域中最大值＋１，而这个连通域由我们remove（）的数组成。</strong>这就想起了<a href="http://blog.csdn.net/h893456070/article/details/53088077" target="_blank" rel="external">上一道题</a>，我们使用并查集来实现在对数时间中查找列表中的最大项。</p>
</li>
</ol>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line">public class Successor &#123;</div><div class="line">    private int n;</div><div class="line">    private boolean[] isRemove;</div><div class="line">    private FindMax findMax;</div><div class="line"></div><div class="line">    public Successor(int n)&#123;</div><div class="line">        this.n = n; //大小为n的列表</div><div class="line">        findMax = new FindMax();    //上一部分的FindMax类，提供union和find方法</div><div class="line">        isRemove = new boolean[n];  //判断列表项中对应位置的数是否被移除</div><div class="line">        for (int i = 0; i &lt; isRemove.length; i++) &#123;</div><div class="line">            isRemove[i] = false;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public void remove(int x) &#123;</div><div class="line">        isRemove[x] = true;</div><div class="line">        if (x&gt;0 &amp;&amp; isRemove[x-1])&#123;</div><div class="line">            findMax.union(x,x-1);</div><div class="line">        &#125;else if (x&lt;n-1 &amp;&amp; isRemove[x+1])&#123;</div><div class="line">            findMax.union(x,x+1);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public int getSuccessor(int x) &#123;</div><div class="line">        if(x&lt;0 || x&gt;n-1)&#123;   //输入不合法</div><div class="line">            return -1;</div><div class="line">        &#125;else if(isRemove[x])&#123;     //若是已经被移除的项,输出移除项中最大项+1</div><div class="line">                return findMax.find(x)+1;</div><div class="line">        &#125;else &#123;     //若不是移除项，则按照规则输出自己</div><div class="line">            return x;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public static void main(String[] args) &#123;</div><div class="line">        Successor successor = new Successor(8);</div><div class="line">        successor.remove(3);</div><div class="line">        successor.remove(2);</div><div class="line">        successor.remove(0);</div><div class="line">        successor.remove(4);</div><div class="line">        successor.remove(7);</div><div class="line">        System.out.println(&quot;the successor is : &quot; + successor.getSuccessor(2));</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>输出：</p>
<blockquote>
<p>the successor is : 5</p>
</blockquote>
<h3 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h3><p><a href="http://vancexu.github.io/2015/07/21/intro-to-union-find-data-structure-exercise.html（墙内）" target="_blank" rel="external">http://vancexu.github.io/2015/07/21/intro-to-union-find-data-structure-exercise.html（墙内）</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/02/并查集系列（二）——Union-find-with-specific-canonical-element/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="YuHang">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="YuHang’s Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="YuHang’s Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/02/并查集系列（二）——Union-find-with-specific-canonical-element/" itemprop="url">
                  并查集系列（二）——Union-find with specific canonical element
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-02T20:55:55+08:00">
                2017-02-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/算法/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>##问题描述<br>    Union-find with specific canonical element. Add a method find() to the union-find data type so that find(i) returns the largest element in the connected component containing i. The operations, union(), connected(), and find() should all take logarithmic time or better. For example, if one of the connected components is {1,2,6,9}, then the find() method should return 9 for each of the four elements in the connected components.</p>
<p>##思路分析<br>    通过添加一个数组来完成对于每个树最大值进行维护</p>
<p>##JAVA代码实现<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line">public class FindMax &#123;</div><div class="line">	private  int[] max = new int[10]; // 每个节点对应树的最大值</div><div class="line">	private  int[] roots = new int[10]; // 每个点的父节点</div><div class="line">	private  int[] points = new int[10]; // 每个点所在树的节点数量</div><div class="line"></div><div class="line">	public FindMax()&#123;</div><div class="line">		for (int i = 0; i &lt; roots.length; i++) &#123;</div><div class="line">			roots[i] = i;</div><div class="line">		&#125;</div><div class="line">		for (int i = 0; i &lt; points.length; i++) &#123;</div><div class="line">			points[i] = 1;</div><div class="line">		&#125;</div><div class="line">		for (int i = 0; i &lt; max.length; i++) &#123;</div><div class="line">			max[i] = i;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	public  int find(int a)&#123;</div><div class="line">		return max[root(a)];</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	public  void union(int a, int b) &#123;</div><div class="line">		int rootA = root(a);</div><div class="line">		int rootB = root(b);</div><div class="line">		if (root(rootA) != root(rootB)) &#123;</div><div class="line">			if (points[rootA] &lt; points[rootB]) &#123;</div><div class="line">				roots[rootA] = rootB;</div><div class="line">				points[rootB] += points[rootA];</div><div class="line">				if(max[rootA]&gt; max[rootB]) max[rootB] = max[rootA];</div><div class="line">			&#125;</div><div class="line">			if (points[rootB] &lt;= points[rootA]) &#123;</div><div class="line">				roots[rootB] = rootA;</div><div class="line">				points[rootA] += points[rootB];</div><div class="line">				if(max[rootB]&gt; max[rootA]) max[rootA] = max[rootB];</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	public  int root(int a) &#123;</div><div class="line">		while (roots[a] != a) &#123;</div><div class="line">			a = roots[a];</div><div class="line">		&#125;</div><div class="line">		return a;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	public static void main(String[] args) &#123;</div><div class="line">		FindMax find = new FindMax();</div><div class="line">		find.union(1, 2);</div><div class="line">		find.union(1, 4);</div><div class="line">		find.union(4, 6);</div><div class="line">		find.union(5, 2);</div><div class="line">		System.out.println(find.find(2));</div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>运行结果：</p>
<blockquote>
<p>6</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/02/并查集系列（一）——Social-network-connectivity/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="YuHang">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="YuHang’s Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="YuHang’s Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/02/并查集系列（一）——Social-network-connectivity/" itemprop="url">
                  并查集系列（一）——Social network connectivity
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-02T20:42:00+08:00">
                2017-02-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/算法/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>　　course并查集的课后题之一，看完之后没有开始没有什么思路，也没找到什么答案，想了想写了一下，感觉受益挺多的</p>
<p>##问题描述：<br>　　Social network connectivity. Given a social network containing n members and a log file containing m timestamps at which times pairs of members formed friendships, design an algorithm to determine the earliest time at which all members are connected (i.e., every member is a friend of a friend of a friend … of a friend). Assume that the log file is sorted by timestamp and that friendship is an equivalence relation. The running time of your algorithm should be mlogn or better and use extra space proportional to n.<br>解题思路：<br>　　首先对于这样的问题我们肯定要使用并查集来求解，题目求是在散列刚刚全部连通的时候的状态，所以我们需要判断什么时候刚刚连通。这时候会想到，全部连通时只会有一个父节点的存在所以，当我们做一次连接操作的时候做一次父节点的判断就行了，当使用weight quick union 的查询父节点操作的时间复杂度为logn，总的复杂度m(logn+1)=mlogn所以可解，下面附上java实现代码，希望可以帮助和我一样的初学者。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div></pre></td><td class="code"><pre><div class="line">public class SocialNetworkConnectivity &#123;</div><div class="line">    int[][] timestamp = new int[][]&#123;&#123;1, 2&#125;, &#123;1, 0&#125;, &#123;7, 8&#125;, &#123;6, 7&#125;, &#123;1, 5&#125;, &#123;4, 9&#125;, &#123;0, 3&#125;, &#123;0, 4&#125;, &#123;1, 6&#125;, &#123;5, 9&#125;&#125;;</div><div class="line">    int[] point;</div><div class="line">    int count;    //计数器，表示剩余root节点的个数</div><div class="line">    int[] size;  //各个节点对应树的节点数量</div><div class="line"></div><div class="line">    //	初始化数组，都是散列的点，每个人是自己的father,初始化每个树的节点个数为1</div><div class="line">    public SocialNetworkConnectivity(int point) &#123;</div><div class="line">        this.point = new int[point];</div><div class="line">        this.size = new int[point];</div><div class="line">        count = size.length;</div><div class="line">        for (int i = 0; i &lt; this.point.length; i++) &#123;</div><div class="line">            this.point[i] = i;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        for (int i = 0; i &lt; size.length; i++) &#123;</div><div class="line">            size[i] = 1;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    //	 连接操作，将小树放在大树之下</div><div class="line">    public void union(int q, int p) &#123;</div><div class="line">        int rootA = root(q);    //A的根节点</div><div class="line">        int rootB = root(p); //B的根节点</div><div class="line">        if (rootA == rootB) return;</div><div class="line"></div><div class="line">        if (size[rootA] &lt; size[rootB]) &#123;</div><div class="line">            point[rootA] = point[rootB];</div><div class="line">            size[rootB] += size[rootA];</div><div class="line">        &#125; else &#123;</div><div class="line">            point[rootB] = point[rootA];</div><div class="line">            size[rootA] += size[rootB];</div><div class="line">        &#125;</div><div class="line">        count--;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    //	 返回当前给定元素的根节点</div><div class="line">    public int root(int i) &#123;</div><div class="line">        while (point[i] != i) &#123;</div><div class="line">            point[i] = point[point[i]];    //路径压缩</div><div class="line">            i = point[i];</div><div class="line">        &#125;</div><div class="line">        return i;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public static void main(String[] args) &#123;</div><div class="line">        SocialNetworkConnectivity so = new SocialNetworkConnectivity(10);</div><div class="line">        int count = 1;</div><div class="line">        while (true) &#123;</div><div class="line">            Scanner scanner = new Scanner(System.in);</div><div class="line">            int q = scanner.nextInt();</div><div class="line">            int p = scanner.nextInt();</div><div class="line">            so.union(q, p);</div><div class="line">            if (so.count == 1) &#123;</div><div class="line">                System.out.println(&quot;all points connected in log &quot; + count);</div><div class="line">                break;</div><div class="line">            &#125;</div><div class="line">            System.out.println(so.count);</div><div class="line">            count++;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>输出：</p>
<blockquote>
<p>1 2<br>9<br>1 0<br>8<br>7 8<br>7<br>6 7<br>6<br>1 5<br>5<br>4 9<br>4<br>0 3<br>3<br>0 4<br>2<br>1 6<br>all points connected in log 9</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>


          
          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.png"
               alt="YuHang" />
          <p class="site-author-name" itemprop="name">YuHang</p>
          <p class="site-description motion-element" itemprop="description">美丽的事物那么多，我不甘心只拥有一个</p>
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">12</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">4</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">YuHang</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  

  




  
  

  

  

  

  


</body>
</html>
